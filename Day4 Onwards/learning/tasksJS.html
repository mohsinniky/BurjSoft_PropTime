<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
    <!-- Bootstrap CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="p-2">
    <!-- Codes -->
    <!-- Events in Javascript -->
    <nav class="breadcrumb p-2" style="--bs-breadcrumb-divider: '>';">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="../index.html">ProbTime</a></li>
            <li class="breadcrumb-item">Javascript</li>
            <li class="breadcrumb-item active">Tasks</li>
        </ol>
    </nav>
    <hr>
    <h1 class="text-center">Tasks</h1>
    <!-- Task1: Code: -->
    <h2>Task1:</h2>
    <h4>In this Task Folowing JS concepts are covered</h4>
    <pre>
        A form containg two number inputs and a button.
        On clicking the button, the multiplication of the two numbers should be displayed in a new paragraph.
        The multiplication should be done using a function.

    </pre>

    <form class="container p-2 border border-2 rounded bg-dark text-white" data-bs-theme="dark">
        <div class="row">
            <div class="mb-3 col-6">
                <label for="num1" class="form-label">Number 1</label>
                <input type="number" class="form-control" placeholder="Enter number 1" id="num1" required>
            </div>
            <div class="mb-3 col-6">
                <label for="num2" class="form-label">Number 2</label>
                <input type="number" class="form-control" placeholder="Enter number 2" id="num2" required>
            </div>
        </div>
        <button type="button" class="btn btn-outline-secondary text-white" onclick="multiply()">Multiply</button>
        <p id="result" class="mt-3"></p>
    </form>



    <!-- Task2: Code: -->
    <h2>Task2:</h2>
    <h4>In this Task Folowing tasks are to be performed</h4>
    <pre>
        A form containg inputs and a button.
        On clicking the button, the email after validation is added to a new paragraph.
        The validation should be done using a function.
        The paragrapgh section is clearable using a button

    </pre>

    <form class="container p-2 border border-2 rounded bg-dark text-white" data-bs-theme="dark">
        <div class="row">
            <div class="mb-3 col-6">
                <label for="email" class="form-label">Email</label>
                <input type="text" class="form-control" placeholder="Enter your Email" id="email" required>
            </div>
            <div class="mb-3 col-6 " id="errorSection">
            </div>
        </div>

        <button type="button" class="btn btn-outline-secondary text-white" onclick="addEmail()">Add</button>
        <button type="button" class="btn btn-outline-danger text-white" onclick="clearEmailSection()">Clear</button>

        <div id="result2" class="mt-3"></div>

    </form>




    <script>
        const result2 = document.getElementById('result2');
        let emailArray = [];
        let emailFound = false;
        function addEmail() {
            const email = document.getElementById('email').value;
            const errorSection = document.getElementById('errorSection');

            if (validateEmail(email)) {
                for (let i = 0; i < emailArray.length; i++) {
                    // Check if the email already exists in the array
                    if (emailArray[i] === email) {
                        errorSection.innerHTML = '<p class="text-danger">Email already exists</p>';
                        emailFound = true;
                        break;

                    }

                    
                }
                if (emailFound===false) {
                    // If the email is not found, add it to the array
                    emailArray.push(email);
                    errorSection.innerHTML = '<p class="text-success">Email added successfully</p>';
                }

                let text = "<ul>";
                for (let j = 0; j < emailArray.length; j++) {
                    text += "<li>" + emailArray[j] + "</li>";
                }
                text += "</ul>";
                result2.innerHTML = text;


            } else {
                errorSection.innerHTML = '<p class="text-danger">The Entered Format is not Correct <br>NOTE: Use this format"username@domain.com" </p>';
            }



        }
        validateEmail = (email) => {


            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;


            return emailPattern.test(email)
        }

        function clearEmailSection() {

            errorSection.innerHTML = "";
            result2.innerHTML = "";
            // Reset the email array
            emailArray = [];
            emailFound = false;            

        }


    </script>
    <!-- Bootstrap JS Bundle -->
    <script src="../js/bootstrap.bundle.min.js"></script>
</body>

</html>